---
import BaseLayout from "../../layouts/BaseLayout.astro";
import EventCard from "../../components/EventCard.astro";
import { getCollection } from "astro:content";

const events = await getCollection("events");

// sort newest first
const sorted = events.sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
---

<BaseLayout title="Events â€“ Silver HH">
  <h1>Events</h1>
  <p>All Silver HH tournaments, past and upcoming.</p>

  <section class="grid cols-3" style="margin-top:20px;">
    {sorted.map(event => (
      <EventCard entry={event} />
    ))}
  </section>
</BaseLayout>
